<div class="panel panel-default"><!-- Painel Principal -->
   <div class="panel-heading">Produtos</div>
         <div class="panel-body"><!-- Painel Body -->
                    <form class="form" name="produtoForm" novalidate><!-- Inicio Form -->

                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                                <label for="nome">Nome</label>
                                <input required type="text" id="nome" name="nome" class="form-control" ng-model="vm.form.nome">
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12 form-group">
                                <label for="modelo">Modelo</label>
                                <input required type="text" id="modelo" name="modelo" class="form-control" ng-model="vm.form.modelo">
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12 form-group">
                                <label for="id">ID</label>
                                <input required type="text" id="id" name="id" class="form-control" ng-change="vm.checkId()" ng-model="vm.form.id">
                            </div>
                            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                                <label for="descricao">Descrição</label>
                                <input type="text" id="descricao" name="descricao" class="form-control" ng-model="vm.form.descricao">
                            </div>

                            <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12 form-group">
                                <label for="quantidade">Quantidade (em estoque)</label>
                                <input type="number" id="quantidade" name="quantidade" class="form-control" ng-model="vm.form.quantidade" ng-change="vm.checkId()">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12 form-group">
                                <label for="custo">Custo de Fabricação</label>
                                <input type="text" id="custo" name="custo" ng-change="vm.calcular()" class="form-control" ng-model="vm.form.custo" ui-money-mask>
                            </div>

                            <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12 form-group">
                                <label for="porcentagemLucro">% Lucro</label>
                                <input type="text" id="porcentagemLucro" name="porcentagemLucro" class="form-control" ng-model="vm.form.porcentagemLucro" ui-percentage-mask ng-change="vm.calcular()">
                            </div>

                            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                                <label for="valor">Valor de Venda R$</label>
                                <input type="text" id="valor" name="valor" ng-change="vm.calcularInverso()" class="form-control" ng-model="vm.form.valor" ui-money-mask>
                            </div>

                            <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12 form-group">
                                <label for="maxDesconto">Máximo desconto</label>
                                <input type="text" id="maxDesconto" name="maxDesconto" class="form-control" ng-model="vm.form.maxDesconto" ui-percentage-mask>
                            </div>
                            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                                <label for="valorMensal">Valor Locação</label>
                                <input type="text" id="valorMensal"  class="form-control" ng-model="vm.form.valorMensal" ui-money-mask>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12 form-group">
                                <label for="unidade">Unidade de medida</label>
                                <select class="form-control" id="unidade" ng-model="vm.form.unidade" ng-options="unidade._id as unidade.sigla for unidade in vm.unidades">
                                </select>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12 form-group">
                                <label for="pesoBruto">Peso Bruto</label>
                                <input type="text" ui-number-mask="3" id="pesoBruto" name="pesoBruto" class="form-control" ng-model="vm.form.pesoBruto" >
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12 form-group">
                                <label for="pesoLiquido">Peso Líquido</label>
                                <input type="text" ui-number-mask="3" id="pesoLiquido" name="pesoLiquido" class="form-control" ng-model="vm.form.pesoLiquido" >
                            </div>
                        </div>

                        <div class="row form-group">
                            <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 ">
                              <label for="classe">Classe / Família</label>
                              <select class="form-control" id="classe"
                              ng-model="vm.form.classe"
                              ng-options="classe._id as classe.nome for classe in vm.classes"
                              ng-change="vm.getGrupos()">
                              </select>
                            </div>
                            <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                              <label for="grupo">Grupo</label>
                              <select class="form-control" id="grupo"
                              ng-model="vm.form.grupo"
                              ng-change="vm.getSubGrupos()">
                               <option ng-repeat="grupo in vm.grupos" value="{{grupo._id}}">
                                    {{grupo.nome}}
                                </option>
                              </select>
                            </div>
                            <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                              <label for="subgrupo">SubGrupo</label>
                              <select class="form-control" id="subgrupo"
                              ng-model="vm.form.subgrupo">
                                <option ng-repeat="subGrupo in vm.subGrupos" value="{{subGrupo._id}}">
                                    {{subGrupo.nome}}
                                </option>
                              </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                                <label for="fornecedor">Fornecedor preferencial</label>
                                <select class="form-control" id="fornecedor" ng-model="vm.form.fornecedor"  ng-options="fornecedor._id as fornecedor.nome for fornecedor in vm.fornecedores">
                                </select>
                            </div>

                            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                                <label for="marca">Marca / Fabricante</label>
                                <select class="form-control" id="marca" ng-model="vm.form.marca" ng-options="marca._id as marca.nome for marca in vm.marcas">
                                </select>
                            </div>
                            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                                <label for="ncm">NCM</label>
                                <input class="form-control" id="ncm" name="ncm" ng-model="vm.form.ncm">
                            </div>
                            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                                <label for="situacaoTributaria">Situação tributária</label>
                                <select class="form-control" id="situacaoTributaria" ng-model="vm.form.situacaoTributaria">
                                    <option value="I">Isento</option>
                                    <option value="TI">Tributado ICMS</option>
                                    <option value="TIISSQN">Tributado ISSQN</option>
                                    <option value="NT">Não Tributado</option>
                                    <option value="ST">Substituição Tributária</option>
                                    <option value="NVECF">Não vender por ECF</option>
                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-2 col-md-2 col-sm-6 col-xs-6 form-group">
                                <div class="togglebutton">
                                    <label>
                                    Destinado a locação?<br>
                                    <input ng-model="vm.form.locacao" type="checkbox"><span class="toggle"></span>
                                    <span class="toogle"></span>
                                    </label>
                                </div>
                            </div>

                            <div class="col-lg-2 col-md-2 col-sm-6 col-xs-6 form-group">
                                <div class="togglebutton">
                                    <label>
                                    É serviço?<br>
                                    <input ng-model="vm.form.servico" type="checkbox"><span class="toggle"></span>
                                    <span class="toogle"></span>
                                    </label>
                                </div>
                            </div>

                            <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12 form-group" ng-show="vm.form.servico">
                                <label for="iss">Alíquota ISS Interno</label>
                                <input class="form-control" ui-percentage-mask id="iss" name="iss" ng-model="vm.form.iss">
                            </div>

                            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group" ng-show="vm.form.servico">
                                <label for="nbs">NBS</label>
                                <select class="form-control" id="nbs" ng-model="vm.form.nbs" ng-options="nbs._id as (nbs.codigo + ' - ' + nbs.descricao) for nbs in vm.nbss">

                                </select>
                            </div>

                        </div>


                        <div class="row">
                            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                                <label for="codigoDeBarras">Código de Barras</label>
                                <input class="form-control" id="codigoDeBarras" name="codigoDeBarras" ng-model="vm.form.codigoDeBarras">
                            </div>
                            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                                <label for="tipoDeProduto">Tipo de produto</label>
                                <select class="form-control" id="tipoDeProduto" ng-model="vm.form.tipoDeProduto">
                                    <option value="00">Mercadoria para Revenda</option>
                                    <option value="01">Matéria-Prima</option>
                                    <option value="02">Embalagem</option>
                                    <option value="03">Produto em Processo</option>
                                    <option value="04">Produto Acabado</option>
                                    <option value="05">Subproduto</option>
                                    <option value="06">Produto Intermediário</option>
                                    <option value="07">Material de Uso e Consumo</option>
                                    <option value="08">Ativo Imobilizado</option>
                                    <option value="09">Serviços</option>
                                    <option value="10">Outros insumos</option>
                                    <option value="99">Outros</option>
                                </select>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12 form-group">
                                <label for="tipi">Cod EX Cef TIPI</label>
                                <input class="form-control" id="tipi" name="tipi" ng-model="vm.form.tipi">
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12 form-group">
                                <label for="icmsInterno">Alíquota ICMS Interno</label>
                                <input class="form-control" id="icmsInterno" name="icmsInterno" ng-model="vm.form.icmsInterno">
                            </div>
                        </div>

                        <div class="row">
                           <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12 form-group">
                                <label for="localizacao">Localização</label>
                                <input class="form-control" id="localizacao" name="localizacao"  ng-model="vm.form.localizacao">
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group">
                                <label for="descricaoTecnica">Descrição Técnica</label>
                                <textarea id="descricaoTecnica" name="descricaoTecnica" class="form-control" rows="15" ng-model="vm.form.descricaoTecnica"></textarea>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group">
                                <label for="obs">Observações</label>
                                <textarea id="obs" name="obs" class="form-control" ng-model="vm.form.obs"></textarea>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 form-group">
                                <label for="imagens">Imagens</label>
                                <input type="file" multiple name="imagens" ng-model="vm.form.imagensUp" ngf-select="">
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 form-group">
                                <label for="imagensIlu">Imagens Ilustrativas</label>
                                <input type="file" multiple name="imagensIlu" ng-model="vm.form.imagensUpIlu" ngf-select="">
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12 form-group">
                                <div  class="col-lg-4 col-md-4 col-sm-4 col-xs-4" ng-repeat="imagem in vm.form.imagens">
                                    <div class="thumbnail" >
                                        <a ng-click="vm.lightbox($index, vm.form.imagens)">
                                            <img ng-src="/uploads/{{imagem}}" alt="" style="max-height:100px">
                                        </a>
                                        <button type="button" class="btn btn-danger" ng-click="vm.excluirImagem($index)">excluir</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-1 col-md-1 col-sm-12 col-xs-12 form-group">
                            </div>
                            <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12 form-group">
                                <div  class="col-lg-4 col-md-4 col-sm-4 col-xs-4" ng-repeat="imagemIlu in vm.form.imagensIlustrativas">
                                    <div class="thumbnail" >
                                        <a ng-click="vm.lightbox($index, vm.form.imagensIlustrativas)">
                                            <img ng-src="/uploads/{{imagemIlu}}" alt="" style="max-height:100px">
                                        </a>
                                        <button type="button" class="btn btn-danger" ng-click="vm.excluirImagemIlu($index)">excluir</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <a ui-sref="produto" class="btn btn-danger">Cancelar</a>
                                <button type="submit" ng-click = "vm.save(produtoForm.$valid)" ng-disabled = "!produtoForm.$valid" class="btn btn-success">Salvar</button>
                            </div>
                        </div>

                    </form><!-- End Form -->
        </div>
 </div>
