<form class="form" name="produtoCustomForm"><!-- Inicio Form -->
    <div class="panel panel-default"><!-- Painel Principal -->
        <div class="panel-heading">Proposta de produtos customizados</div>
        <div class="panel-body"><!-- Painel Body -->

            <ul class="nav nav-tabs" style="margin-bottom: 15px;" ng-init="tab = 1">
                <li ng-class="{'active': tab == 1}"><a href="javascript:;" ng-click="tab = 1">Dados da Proposta</a></li>
                <li ng-class="{'active': tab == 2}"><a href="javascript:;" ng-click="tab = 2">Produtos</a></li>
                <li ng-class="{'active': tab == 3}"><a href="javascript:;" ng-click="tab = 3">Forma de Pagamento</a></li>
            </ul>


            <div id="myTabContent" class="tab-content"><!-- Corpo Tab -->

                <div class="tab-pane fade" id="dados" ng-class="{'active in': tab == 1}"><!-- Inicio Tab dados -->
                    <div class="row">
                        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
                            <label for="numeroContrato">Nº de Proposta</label>
                            <input ng-disabled="vm.form._id" class="form-control" id="numeroContrato" ng-model="vm.form.numeroContrato" >
                        </div>
                        <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
                            <label for="cliente">Cliente</label>
                            <select class="form-control" id="cliente" name="cliente"
                            ng-disabled="vm.form._id"
                            ng-change="vm.getContatos()"
                            ng-options="cliente._id as ((cliente.lead ? '(Lead) ' : '') + cliente.nome) for cliente in vm.leads"
                            ng-model="vm.form.cliente">
                                <option>Selecione Cliente</option>
                            </select>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
                            <label for="ac">A/C</label>
                            <p ng-show="vm.form._id" class="text-muted">{{vm.form.ac.nome}} - {{vm.form.ac.telefone}} - {{vm.form.ac.email}}</p>
                            <p ng-show="vm.form._id">Alterar:</p>
                            <select class="form-control" name="ac" id="ac" ng-model="vm.form.ac" ng-options="contato as contato.nome for contato in vm.contatos"></select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <label for="end">Endereço de uso</label>
                            <select class="form-control" id="end"
                                ng-change="vm.setEndereco()"
                                ng-model="vm.form.enderecoSelecionado"
                            >
                            <option value="0">Selecione...</option>
                            <option ng-repeat="end in vm.enderecos" value="{{end}}" >{{end.logradouro}}</option>

                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <label for="localUso">(Identificação do endereço) Local de Uso do Equipamento</label>
                            <input type="text" id="localUso" ng-model="vm.form.localUso" class="form-control">
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                            <label for="cep">Cep</label>
                            <input type="text" ng-blur="vm.getCep($index)" ui-br-cep-mask  ng-model="vm.form.endereco.cep" id="cep" class="form-control">
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 form-group">
                            <label for="logradouro">Logradouro</label>
                            <input type="text"  ng-model="vm.form.endereco.logradouro" id="logradouro" class="form-control">
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                            <label for="numero">Número</label>
                            <input type="text"  ng-model="vm.form.endereco.numero" id="numero" class="form-control">
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                            <label for="complemento">Complemento</label>
                            <input type="text"  ng-model="vm.form.endereco.complemento" id="complemento" class="form-control">
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                            <label for="bairro">Bairro</label>
                            <input type="text"  ng-model="vm.form.endereco.bairro" id="bairro"class="form-control">
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                            <label for="cidade">Cidade</label>
                            <input type="text"  ng-model="vm.form.endereco.cidade" id="cidade"class="form-control">
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                            <label for="uf">UF</label>
                            <input type="text"  ng-model="vm.form.endereco.uf" id="uf" class="form-control">
                        </div>
                    </div>
                </div><!-- End Tab dados -->

                <div class="tab-pane fade" id="item" ng-class="{'active in': tab == 2}"><!-- Inicio Tab Endereço -->
                    <div class="row">
                        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 form-group">
                                <label for="nomeProduto">Nome</label>
                                <input type="text" id="nomeProduto" name="nomeProduto" class="form-control" ng-model="vm.form.nomeProduto">
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 form-group">
                            <label for="modelo">Modelo</label>
                            <input type="text" id="modelo" name="modelo" class="form-control" ng-model="vm.form.modelo">
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 form-group">
                            <label for="descricao">Descrição</label>
                            <input type="text" id="descricao" name="descricao" class="form-control" ng-model="vm.form.descricao">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 form-group">
                            <label for="quantidade">Quantidade</label>
                            <input type="number" id="quantidade" name="quantidade" class="form-control" ng-model="vm.form.quantidade">
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 form-group">
                            <label for="valor">Valor</label>
                            <input type="text" id="valor" name="valor" class="form-control" ng-model="vm.form.valor" ui-money-mask>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group">
                            <label for="descricaoTecnica">Descrição Técnica</label>
                            <textarea id="descricaoTecnica" name="descricaoTecnica" class="form-control" rows="15" ng-model="vm.form.descricaoTecnica"></textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group">
                            <label for="imagensUp">Imagens</label>
                            <input type="file" multiple name="imagens" ng-model="vm.form.imagensUp" ngf-select>
                            <div class="row">
                                <div  class="col-lg-4 col-md-4 col-sm-4 col-xs-4" ng-repeat="list in vm.form.imagens">
                                    <div class="thumbnail" >
                                        <img ng-src="/uploads/{{list}}" alt="{{list}}">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!-- End Tab Dadoas Adicionais -->
                <div class="tab-pane fade" id="item" ng-class="{'active in': tab == 3}"><!-- Inicio Tab forma de pagamento -->
                    <div class="row">

                        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
                            <label for="finalidade">Finalidade</label>
                            <select required class="form-control" name="finalidade" id="finalidade" ng-model="vm.form.finalidade">
                                <option value="l">Locação</option>
                                <option value="v">Venda</option>
                            </select>
                        </div>

                        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
                            <label for="situacao">Situaçoes</label>
                            <select required class="form-control" name="situacao" id="situacao" ng-model="vm.form.situacao">
                                <option value="e">Em análise</option>
                                <option value="a">Aprovado</option>
                                <option value="r">Rejeitado</option>
                                <option value="s">Sem resposta</option>
                            </select>
                        </div>

                        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                            <label for="formaPagamento">Forma de pagamento</label>
                            <select required class="form-control" id="formaPagamento" ng-model="vm.form.formaPagamento" ng-options="formaPagamento._id as formaPagamento.nome for formaPagamento in vm.formaPagamentos">
                            </select>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 form-group">
                            <label for="parcelamento">Parcelamento</label>
                            <select required class="form-control" id="parcelamento" ng-model="vm.form.parcelamento" ng-options="parcelamento._id as parcelamento.nome for parcelamento in vm.parcelamentos">
                            </select>
                        </div>
                    </div>
                    <div class="row" ng-show="vm.form.finalidade == 'l'">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group">
                            <label for="duracao">Duração locação (em dias)</label>
                            <input type="text" id="duracao" class="form-control" ng-model="vm.form.duracao">
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group">
                            <label for="obs">Observações</label>
                            <textarea class="form-control" name="obs" id="obs" ng-model="vm.form.obs"></textarea>
                        </div>
                    </div>
                </div><!-- Fim Tab forma de pagamento -->
            </div>

            <a ui-sref="produtoCustom" class="btn btn-danger">Cancelar</a>
            <button type="submit" ng-click="vm.save()"
            class="btn btn-success">Salvar</button>
        </div>
    </div>
</form><!-- End Form -->